<!doctype html>
<html>
<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Retina images</title>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="stylesheet" href="../css/style.css">

</head>
<body>
<div id="container">
    <header>
    <h1>High DPI image support</h1>
    </header>
    <div id="main" role="main">
    <div><h2>Pixel ration 1.</h2><img src="http://demo.wew.io/img/px_300/http://farm9.staticflickr.com/8154/7705240114_fdc69e5882_k_d.jpg" alt="normal" id="normal" onload="javascript:s(this);" style="width:300px"/></div>
    <div><h2>Pixel ration 2</h2><img src="http://demo.wew.io/img/px_300/@_2/http://farm9.staticflickr.com/8154/7705240114_fdc69e5882_k_d.jpg" alt="High DPI x2" id="highdpi" onload="javascript:s(this);" style="width:300px"/></div>
</div>
    <footer>

    </footer>
</div> <!--! end of #container -->
<script type="text/javascript">
function s(i){
    var src =i.src
    var bytes = 0;
    var xhr = new XMLHttpRequest();
    xhr.open('HEAD', src, true);
    xhr.onreadystatechange = function(){
      if ( xhr.readyState == 4 ) {
        if ( xhr.status == 200 ) {
          bytes=  xhr.getResponseHeader('Content-Length');
        } else {
          bytes = "[error]";
        }
      }
    };
    xhr.send();
    var ndiv = document.createElement("div");
    ndiv.innerHTML="Size: "+bytes+ " bytes. " + i.naturalWidth + 'x' + i.naturalHeight;
    document.getElementById(i.id).parentNode.appendChild(ndiv);

}


</script>
</body>
</html>
